<!DOCTYPE html>
<html>
  <head>
    <title>QRPass Register</title>
  </head>
  <body>
    <h2>Register & Pay</h2>
    <form id="regForm">
      <input type="text" placeholder="Name" id="name" /><br />
      <input type="email" placeholder="Email" id="email" /><br />
      <input type="text" placeholder="Phone" id="phone" /><br />
      <input type="number" placeholder="Quantity" id="quantity" /><br />
      <button type="submit">Pay & Register</button>
    </form>
    <script>
      document.getElementById("regForm").addEventListener("submit", async (e) => {
        e.preventDefault();
        const data = {
          name: document.getElementById("name").value,
          email: document.getElementById("email").value,
          phone: document.getElementById("phone").value,
          quantity: document.getElementById("quantity").value,
        };
        const res = await fetch("/register", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data),
        });
        const msg = await res.text();
        alert(msg);
      });
    </script>
  </body>
</html>
